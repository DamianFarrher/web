<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>

    <style>
        body{
            margin: 50px;
        }
        h2, h4{
            margin:0;
        }
    </style>
</head>
<body>


    <h2>Comprobar direccion de email</h2>
    <h4><i>Con alerta personalizada</i></h4>

    <br>

    <form>
        
        <span>email:</span>
        <input type="text" id="email" required>
        <input type="submit" value="Enviar">

    </form>

    
    <script>

        function comprobarNombre(valor, campo) {
        
            var mensaje = "";
            
            // comprobar los posibles errores
            if (this.value == "") {
                mensaje = "El email no puede estar vac√≠o";
            } else if (this.value.indexOf("@") < 0) {
                mensaje = "El email debe contener una @";
            } else if (this.value.indexOf(".com", this.value.indexOf("@")) < 0) {
                mensaje = "El email debe contener .com detras de la @";
            } 
            
            // mostrar/resetear mensaje (el mensaje se resetea poniendolo a "")
            this.setCustomValidity(mensaje);
        }

        var email = document.querySelector("#email");

        // cuando se cambie el valor del campo o sea incorrecto, mostrar/resetear mensaje
        email.addEventListener("invalid", comprobarNombre);
        email.addEventListener("input", comprobarNombre);

    </script>
    
</body>
</html>